
//infoProducto[0] = poleras
//infoProducto[1] = polerones
//infoProducto[2] = zapatillas
var infoProducto = [
    
    [
        {
            nombre: "JORDAN FLIGHT",
            imagen: "/img/poleras/Jordan-Flight.png",
            codigo: 7543214123617,
            descripcion: "Representa la historia de los 6 anillos dondequiera que vayas con esta playera con gráfico. El legendario bling de MJ está serigrafiado sobre un algodón suave y relajado que querrás usar todos los días.",
            precio: 36990
        },
        {
            nombre: "JORDAN FLIGHT 2",
            imagen: "/img/poleras/Jordan-Flight2.png",
            codigo: 7543214450121,
            descripcion: "El AJ1 es para mucho más que solo tus suelas. Muestra tu pasión por el icónico calzado con una playera suave en un ajuste intencionalmente oversized.",
            precio: 46990

        },
        {
            nombre: "M J 23E SS CREW",
            imagen: "/img/poleras/MJ-23E-SS-CREW.png",
            codigo: 7543214272487,
            descripcion: "Agrega ligereza y vitalidad a tu colección. Confeccionada con algodón suave y clásico, esta playera rinde homenaje a Jordan todos los días con gráficos modernos y un ajuste relajado.",
            precio: 36990

        },
        {
            nombre: "M J BRAND GRAPHIC SS CREW",
            imagen: "/img/poleras/MJ-BRAND-GRAPHIC-SS-CREW.png",
            codigo: 7543214318135,
            descripcion: "Deslízate hacia la primavera con detalles en plata y cromo, estilo Jordan. Esta playera para el día a día es relajada y cómoda, a la vez que hace una declaración.",
            precio: 36990

        },
        {
            nombre: "NIKE SPORTSWEAR",
            imagen: "/img/poleras/Nike-portswear.png",
            codigo: 7543214910462,
            descripcion: "Mira tu bola de cristal y verás nuestra playera suave de algodón con un ajuste relajado. El gráfico está inspirado en la fantasía y la magia, y te preparan para las odiseas desconocidas.",
            precio: 29990

        },
        {
            nombre: "POLERA AKIRA",
            imagen: "/img/poleras/PoleraAkira.png",
            codigo: 754321463819,
            descripcion: "Akira es un joven cuyas habilidades psíquicas fueron desarrolladas artificialmente como parte de un proyecto militar.",
            precio: 12990

        },
        {
            nombre: "POLERA CHAINSAW MAN",
            imagen: "/img/poleras/PoleraChainsawMan.png",
            codigo: 7543214932456,
            descripcion: "Polera color negro alta calidad 100% de algodón, impresión DTF súper durable y resistente.",
            precio: 15990

        },
        {
            nombre: "POLERA GOD USOPP",
            imagen: "/img/poleras/PoleraGodUsopp.png",
            codigo: 7543214199899,
            descripcion: "Usopp es el francotirador de los Piratas de Sombrero de Paja. Es el cuarto miembro de la tripulación y el tercero en unirse oficialmente.",
            precio: 15990

        },
        {
            nombre: "POLERA ONE PIECE COOKIE!",
            imagen: "/img/poleras/POLERA-ONE-PIECE-COOKIE-SS-TEE-AQUA-SKY.png",
            codigo: 7543214963901,
            descripcion: '¡Con detalles únicos inspirados en el icónico anime japonés, Vans x One Piece x Cookie! ¡La camiseta muestra obras de arte imaginativas del artista japonés Cookie! que rinde homenaje al espíritu "Off The Wall" de One Piece y Vans. ',
            precio: 49990

        },
        {
            nombre: "W J AOP GF TEE",
            imagen: "/img/poleras/WJ -OP-GF-TEE.png",
            codigo: 7543214615368,
            descripcion: "Ve por tus kilómetros con estos pants entallados Swoosh Run. Con una tela transpirable absorbente de humedad, puedes pasar menos tiempo preocupándote por el sudor y más tiempo enfocándote en tu pisada. La pretina elástica ajustable y el forro de malla de los muslos hacia abajo te ayudan a mantener la comodidad de principio a fin.",
            precio: 44990

    }],
    [
        {
            nombre: "POLERON DEPORTIVO NIKE AIR",
            imagen: "/img/polerones/Nike-Air.png",
            codigo: 754321468779,
            descripcion: "La silueta llamativa presenta un tejido de punto suave, cisas anchas y tecnología antitranspirante para que pueda usar su estilo en cualquier momento y en cualquier lugar. Look moderno..",
            precio: 29990
        },
        {
            nombre: "POLERON ONE PIECE TRUE BLUE",
            imagen: "/img/polerones/POLERA-ONE PIECE-LS-TRUE-BLUE.png",
            codigo: 7543214142883,
            descripcion: "Rindamos homenaje al poder de la amistad Acompaña a Monkey D. Luffy y a su tripulación pirata en su búsqueda del tesoro supremo, el One Piece, con esta colección exclusiva de Vans x One Piece..",
            precio: 39990

        },
        {
            nombre: "POLERÓN ANAHEIM FLORAL",
            imagen: "/img/polerones/POLERON-ANAHEIM-FLORAL-CREW-GREEN-JACKET.png",
            codigo: 7543214151509,
            descripcion: "Para homenajear a nuestra primera fábrica de Vans en Anaheim, California, Anaheim Floral Crew busca en el baúl de los recuerdos y logra crear una estética retro con mucho estilo moderno.",
            precio: 69990

        },
        {
            nombre: "POLERÓN FLEECE TIE DYE",
            imagen: "/img/polerones/POLERON-FLEECE-TIE-DYE-PULLOVER.png",
            codigo: 7543214305477,
            descripcion: "Vans y Pretty Guardian Sailor Moon se unen en una colaboración especial para rendir homenaje al concepto del amor y la justicia para todos. Esta colección de calzado y ropa te invita a unirte a las Sailor Guardians y rendir homenaje al popular anime..",
            precio: 59990,
            

        },
        {
            nombre: "POLERÓN FLORAL ANIMAL CREW",
            imagen: "/img/polerones/POLERON-FLORAL-ANIMAL-CREW-GRAPE-LEAF.png",
            codigo: 7543214104812,
            descripcion: "La sudadera Floral Animal de Vans es un diseño de manga larga y cuello redondo con el logotipo de Vans en el lado izquierdo del pecho. El modelo se completa con un estampado animal integral.",
            precio: 44990

        },
        {
            nombre: "POLERÓN ONE PIECE",
            imagen: "/img/polerones/POLERON-ONE-PIECE-COOKIE-FLEECE-PO-BLACK.png",
            codigo: 7543214590872,
            descripcion: "Festejemos para celebrar el poder de la amistad,únete a Monkey D. Luffy y su Straw Hat Crew en su búsqueda del tesoro supremo, el One Piece, con una colección exclusiva de Vans x One Piece.",
            precio: 99990

        },
        {
            nombre: "POLERÓN PRIDE OTW",
            imagen: "/img/polerones/POLERON-PRIDE-OTW-GALLERY-PO-BLACK.png",
            codigo: 7543214872214,
            descripcion: "100% Algodón, bolsillo frontal, diseño bordado.",
            precio: 62990

        },
        {
            nombre: "POLERÓN SK8 SKULL PO",
            imagen: "/img/polerones/POLERON-SK8-SKULL-PO.png",
            codigo: 7543214166175,
            descripcion: "Con detalles que brillan en la oscuridad para mantenerte abrigado tanto de día como de noche, el Kids Sk8 Skull Pullover tiene gráficos en el pecho y un estampado de tablero de ajedrez en la manga derecha.",
            precio: 49990

        },
        {
            nombre: "POLERÓN TRIPPY GRIN",
            imagen: "/img/polerones/POLERON-TRIPPY-GRIN-PO-BLACK.png",
            codigo: 754321475230,
            descripcion: "La Trippy Grin Pullover está confeccionada en tejido Fleece de 60 % algodón y 40 % poliéster con capucha, un bolsillo tipo canguro en la parte delantera y un clásico bordado de logotipo en caja rodeado de un diseño floral psicodélico.",
            precio: 39990

        },
        {
            nombre: "Therma-Fit PO Hoodie",
            imagen: "/img/polerones/Therma-Fit PO Hoodie Insects.png",
            codigo: 7543214454127,
            descripcion: "Los bichos son parte de la naturaleza, especialmente la naturaleza que rodea al Lago Spirit del estado de Washington. Nos inspiramos en esos espeluznantes insectos para diseñar el estampado de esta resistente y cómoda sudadera con gorro.",
            precio: 79990

        }
    
    ],
    [
        {
            nombre: "ZAPATILLAS TRC BLAZE COURT",
            imagen: "/img/zapatillas/ZAPATILLAS DE BASKETBALL TRC BLAZE COURT.png",
            codigo: 7543214956671,
            descripcion: "Estas zapatillas se inspiran en las Blaze of Glory y se encargan de que todo esté fresco dentro y fuera del campo de juego. Equipadas con la triple amenaza Trinomic de amortiguación, flexibilidad y estabilidad, estas zapatillas tienen un diseño de caña baja, pero con una gran devolución de la energía.",
            precio: 89990
        },
        {
            nombre: "ZAPATILLAS SLIPSTREAM",
            imagen: "/img/zapatillas/ZAPATILLAS DE CAÑA MEDIA SLIPSTREAM SC.png",
            codigo: 7543214830377,
            descripcion: "Las Slipstream son un verdadero ícono del calzado, con un legado que se remonta a 1987. Si bien se pensaron como una zapatilla de basketball prémium, los creadores de tendencia no tardaron en reconocer que su comodidad y resistencia eran perfectas para las calles.",
            precio: 119990
    
        },
        {
            nombre: "ZAPATILLAS DEVIATE NITRO",
            imagen: "/img/zapatillas/ZAPATILLAS DE RUNNING PARA HOMBRE DEVIATE NITRO.png",
            codigo: 7543214906186,
            descripcion: "Excelente performance en la distancia que sea. Las DEVIATE NITRO tienen un diseño amortiguado que viene a innovar en la tendencia de las zapatillas de running de máximo performance para que correr más rápido sea cada vez más fácil.",
            precio: 129990
    
        },
        {
            nombre: "ZAPATILLAS MAGNIFY NITRO",
            imagen: "/img/zapatillas/ZAPATILLAS DE RUNNING PARA HOMBRE MAGNIFY NITRO.png",
            codigo: 7543214564112,
            descripcion: "Dicho de forma sencilla, estas zapatillas te siguen ofreciendo lo mejor. Para empezar, tienen una mediasuela con NITRO FOAM, la tecnología avanzada de PUMA diseñada para ofrecer una adaptación y una amortiguación increíbles.",
            precio: 109990
    
        },
        {
            nombre: "ZAPATILLAS VOYAGE NITRO",
            imagen: "/img/zapatillas/ZAPATILLAS DE RUNNING PARA MUJER VOYAGE NITRO.png",
            codigo: 7543214519667,
            descripcion: "Dicho de forma sencilla, estas zapatillas te siguen ofreciendo lo mejor. Para empezar, tienen una mediasuela con NITRO FOAM, la tecnología avanzada de PUMA diseñada para ofrecer una adaptación y una amortiguación increíbles.",
            precio: 109990
    
        },
        {
            nombre: "ZAPATILLAS SK8-HI ONE PIECE",
            imagen: "/img/zapatillas/ZAPATILLAS SK8-HI ONE PIECE PUNK HAZARD MULTI.png",
            codigo: 7543214621041,
            descripcion: "Rindamos homenaje al poder de la amistad Acompaña a Monkey D. Luffy y a su tripulación pirata en su búsqueda del tesoro supremo, el One Piece, con esta colección exclusiva de Vans x One Piece.",
            precio: 94990
    
        },
        {
            nombre: "ZAPATILLAS SUEDE CLASSIC XXI",
            imagen: "/img/zapatillas/ZAPATILLAS SUEDE CLASSIC XXI.png",
            codigo: 7543214874446,
            descripcion: "Con un gran impacto en la cultura del calzado, las zapatillas más icónicas de PUMA entraron a la escena por primera vez en 1968 y han sido usadas desde entonces por los íconos de cada generación. Las Suede Classic XXI cuentan con un empeine completo de gamuza y toques modernos, que mejoran la calidad general y hacen que se sientan mejor que nunca.",
            precio: 69990
    
        },
        {
            nombre: "ZAPATILLAS ONE PIECE COOKIE",
            imagen: "/img/zapatillas/ZAPATILLAS UA AUTHENTIC 44 DX ONE PIECE COOKIE.png",
            codigo: 7543214875716,
            descripcion: "Las zapatillas Authentic Vans x One Piece combinan una estética náutica inspirada en el emblemático manga japonés con unas palas de yute bordadas con divertidos símbolos de One Piece en honor a los inconfundibles sombreros de paja de la serie.",
            precio: 99990
    
        },
        {
            nombre: "ZAPATILLAS ONE PIECE HAT CREW",
            imagen: "/img/zapatillas/ZAPATILLAS UA AUTHENTIC ONE PIECE STRAW HAT CREW.png",
            codigo: 7543214103528,
            descripcion: "Las zapatillas Authentic Vans x One Piece combinan una estética náutica inspirada en el emblemático manga japonés con unas palas de yute bordadas con divertidos símbolos de One Piece en honor a los inconfundibles sombreros de paja de la serie.",
            precio: 59990
    
        },
        {
            nombre: "ZAPATILLAS NATHAN FLORENCE",
            imagen: "/img/zapatillas/ZAPATILLAS UA ULTRARANGE VR3 NATHAN FLORENCE.png",
            codigo: 7543214254000,
            descripcion: "Procedente de la costa norte de Oahu, Nathan Florence creció con algunas de las olas más emblemáticas del mundo justo delante de su puerta. Ese entorno único no solo convirtió a Nathan en el surfista que actualmente es, sino que encendió en él la llama que le permitió continuar buscando lugares de surf desafiantes.",
            precio: 109990
    
        }]
]


//variables creacion de cards
var divMedio,divInterno,footerCard ,tituloCard, descripcionCard, labelcheck, boton, imgCard ,selecCantidad, labelCantidad , i = 0;

var index;
var precio;
var codigo;
var linkImagen;
var arregloCard = [];

//Función creadora de cards
function creacionCards(element,index){
    //Creación de elementos html y asignación de atributos
    var objeto = {  nombre: undefined,
                    imagen: undefined,
                    codigo: undefined,
                    descripcion: undefined,
                    precio: undefined
                }
    
    
    
    divMedio = document.createElement("div"); 
    divMedio.className = "card  gy-3 divMedio col-2";
    divMedio.style = "object-fit: fit; border: none; max-width: 250px; min-width: 200px; background: rgba(0,0,0,0);  z-index: 1010";
    divMedio.id = "divMedio-" + i;


    divInterno = document.createElement("div");
    divInterno.className = "  card-body card-img-overlay divInterno";
    divInterno.setAttribute("data-bs-toggle","modal");
    divInterno.setAttribute("data-bs-target","#detalleProducto") ;
    divInterno.id = "divInterno-" + i;
    
    
    imgCard = document.createElement("img");
    imgCard.className = " img-fluid card-img-top rounded-top imagenCard";
    imgCard.id = "img-" + i;
    imgCard.src= element[index].imagen;
    imgCard.alt  = "Imagen no Disponible";
    imgCard.style = " object-fit: fit";
    objeto.imagen = element[index].imagen; //asignación del los atributos al objeto que irá en el arreglo de productos mostrados en pantalla (arregloCard[])
    
    tituloCard = document.createElement("h4");
    tituloCard.className = "card-title ps-2";
    tituloCard.textContent = element[index].nombre;
    tituloCard.style = " margin-top: auto;height: 70px";
    
    objeto.nombre = element[index].nombre; 

    objeto.descripcion = element[index].descripcion;

    precio = document.createElement("h2");
    precio.className = "card-text ps-2 precio";
    precio.textContent = new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(element[index].precio);
    precio.id = "precio-" + i;
    objeto.precio = element[index].precio;
    precio.style = " margin-top: auto;";

    codigo = document.createElement("p");
    codigo.className = "card-text ps-2 codigo";
    codigo.textContent = "COD: " + element[index].codigo;
    codigo.id = "codigo-" + i;
    objeto.codigo = element[index].codigo;
    codigo.style = " margin-top: auto;";

    footerCard = document.createElement("div");
    footerCard.className = "card   footerCard";
    footerCard.style = "display: flex; justify-content: center; margin-top: auto;";
    
    divAgregar = document.createElement("div");
    divAgregar.style = "display: flex; justify-content: center; margin-top: auto;";
    divAgregar.className = "p-2";

    divCantidad = document.createElement("div");
    divCantidad.className = "ps-2";
    divCantidad.style = "justify-content: space-evenly; display: flex; margin-top: auto;"

    boton = document.createElement("button");
    boton.type = "button";
    boton.id = "boton-" + i;
    boton.className = "btn bg-primary";
    boton.textContent = "Añadir al Carro";
    boton.setAttribute("onclick","agregarAlCarro()");

    
    
    selecCantidad = document.createElement("input");
    selecCantidad.id = "cantidad"
    selecCantidad.type = "number";
    selecCantidad.min = 1;
    selecCantidad.max = 15;
    selecCantidad.value = 1

    labelCantidad = document.createElement("label");
    labelCantidad.for = "cantidad-" + i;
    labelCantidad.textContent = "Cantidad:";

    //Anidar y agregar los elementos al DOM
    $("#contenedorCard").append(divMedio);
    divMedio.append(divInterno);
    divMedio.append(imgCard);
    divMedio.append(footerCard);
    footerCard.append(tituloCard);
    footerCard.append(codigo);
    footerCard.append(precio);
    divAgregar.append(boton);
    divCantidad.append(labelCantidad);
    divCantidad.append(selecCantidad);
    footerCard.append(divCantidad);
    footerCard.append(divAgregar);
    
    arregloCard.push(objeto);
    
    i++;
}


if($("#mainIndex").val() =="1"){ 
    
    function mostrarCards(){
        let numeros=[];
        var random1, random2;
       
        let totalcards = 5;
        
        for (let i = 0; i < totalcards; i++) {
            var random1 = Math.floor(Math.random() * infoProducto.length);
            var arreglo = infoProducto[random1];  
            function numerosAleatoriosNoRepetidos(min, max, cantidad) {
                
            
                if (min>max || cantidad>max-min) {
                    return false;
                }
            
                while (numeros.length<cantidad) {
                    const num=Math.floor((Math.random() * (max - min)) + min );
                    if (numeros.indexOf(num)==-1) {
                        numeros.push(num);
                    }
                }
                return numeros;
            }
            random2 = numerosAleatoriosNoRepetidos(0,arreglo.length - 1,totalcards)
            creacionCards(arreglo,random2[i]);
            
            
        }
        $(".divMedio").on("click",function(){

            var indiceProducto =($(this).attr('id'))[($(this).attr('id')).length -1];
        
            $("#tituloModal").text(arregloCard[parseInt(indiceProducto)].nombre);
            $("#codigoModal").text("COD: " + arregloCard[parseInt(indiceProducto)].codigo);
            $("#imagenModal").attr("src", arregloCard[indiceProducto].imagen);
            $("#descripcionModal").text(arregloCard[indiceProducto].descripcion);
            $("#precioModal").text(new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(arregloCard[indiceProducto].precio));
        
        })
        i = 0;
    
    }
    function eliminarCards(){
        $("#contenedorCard").html("");
        arregloCard = [];
    }

    mostrarCards()
    
    setInterval(mostrarCards,10001)
    setInterval(eliminarCards,10000)
    
    
      
    
    
}else{
    mostrarCards()
    function mostrarCards(){
        let numeros=[];
    for (let i = 0; i < 4; i++) {
        var random1 = Math.floor(Math.random() * 3);
        var arreglo = infoProducto[random1];  
        function numerosAleatoriosNoRepetidos(min, max, cantidad) {
            
         
            if (min>max || cantidad>max-min) {
                return false;
            }
         
            while (numeros.length<cantidad) {
                const num=Math.floor((Math.random() * (max - min)) + min );
                if (numeros.indexOf(num)==-1) {
                    numeros.push(num);
                }
            }
            return numeros;
        }
        random2 = numerosAleatoriosNoRepetidos(0,infoProducto[random1].length - 1,4)
        creacionCards(arreglo,random2[i]);
        
        
    }
    $(".divMedio").on("click",function(){

        var indiceProducto =($(this).attr('id'))[($(this).attr('id')).length -1];
    
        $("#tituloModal").text(arregloCard[parseInt(indiceProducto)].nombre);
        $("#codigoModal").text("COD: " + arregloCard[parseInt(indiceProducto)].codigo);
        $("#imagenModal").attr("src", arregloCard[indiceProducto].imagen);
        $("#descripcionModal").text(arregloCard[indiceProducto].descripcion);
        $("#precioModal").text(new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(arregloCard[indiceProducto].precio));
    
    })
    
    }
    function eliminarCards(){
        $("#contenedorCard").html("");
        
    }

    
    setInterval(mostrarCards,10001)
    setInterval(eliminarCards,10000)
}