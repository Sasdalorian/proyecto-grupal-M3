
//infoProducto[0] = poleras
//infoProducto[1] = polerones
//infoProducto[2] = zapatillas
var infoProducto = [
    
    [   {
            nombre: "Zapatilla Converse Weapon",
            imagen: "/img/calzado/converse.png",
            codigo: 1234567890,
            descripcion: "El ícono de la cancha de 1986, completamente transformado para lo que viene. Su capellada de cuero de primera calidad se une al cuello espumado de PU y a la suela de goma envolvente para ofrecer la máxima comodidad.",
            precio: 59990
        },
        {
            nombre: "Zapatillas Blaze Court",
            imagen: "/img/calzado/blaze-court.png",
            codigo: 1234567890,
            descripcion: "zapatilla de basquetball unisex",
            precio: 49990
        },
        {
            nombre: "Zapatilla Deviaten Nitro",
            imagen: "/img/calzado/deviaten-nitro.png",
            codigo: 1234567890,
            descripcion: "zapatilla running mujer color verde",
            precio: 57990

        },
        {
            nombre: "Zapatilla Florence",
            imagen: "/img/calzado/florence.png",
            codigo: 1234567890,
            descripcion: "zapatillas urbanas mujer",
            precio: 37990

        },
        {
            nombre: "Zapatillas Magnify Nitro",
            imagen: "/img/calzado/magnify-nitro.png",
            codigo: 1234567890,
            descripcion: "zapatillas running hombre color rojo",
            precio: 104990

        },
        {
            nombre: "Zapatilla Mercurial Victory",
            imagen: "/img/calzado/mercurial-victory.jpg",
            codigo: 1234567890,
            descripcion: "zapatillas baby futbol unisex",
            precio: 98990

        },
        {
            nombre: "Zapatos Mercury",
            imagen: "/img/calzado/mercury.jfif",
            codigo: 1234567890,
            descripcion: "Zapatos de futbol mujer color dorado ",
            precio: 74990

        },
        {
            nombre: "Zapatillas Slip Stream",
            imagen: "/img/calzado/slipstream.png",
            codigo: 1234567890,
            descripcion: "zapatilla urbana de caña alta unisex ",
            precio: 64990

        },
        {
            nombre: "Zapatilla Suede Classic XXI",
            imagen: "/img/calzado/suede-classicxxi.png",
            codigo: 1234567890,
            descripcion: "Zapatilla urbana mujer color rosado",
            precio: 89990

        },
        {
            nombre: "Zapatos Superfly",
            imagen: "/img/calzado/superfly.jfif",
            codigo: 1234567890,
            descripcion: "Zapato de futbol hombre color rojo",
            precio: 49990

        },
        {
            nombre: "Zapatillas Voyage Nitro",
            imagen: "/img/calzado/voyage-nitro.png",
            codigo: 1234567890,
            descripcion: "zapatillas running hombre color negro",
            precio: 00000

    }],
    [
        {
            nombre: "Camiseta Seleccion Brasileña",
            imagen: "/img/camisetas/brasil.png",
            codigo: 1234567890,
            descripcion: "Camiseta oficial seleccion Brasileña.",
            precio: 53990
        },
        {
            nombre: "Camiseta Seleccion Argentina",
            imagen: "/img/camisetas/argentina.png",
            codigo: 1234567890,
            descripcion: "Camiseta oficial seleccion Argentina 3 estrellas",
            precio: 53990
        },
        {
            nombre: "Camiseta Barcelona",
            imagen: "/img/camisetas/barca.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta Barcelona 22-23 Oficial",
            precio: 45990

        },
        {
            nombre: "Camiseta Boca Juniors",
            imagen: "/img/camisetas/boca.jfif",
            codigo: 1234567890,
            descripcion: "Nueva camiseta de Boca oficial y de visitante",
            precio: 39990

        },
        {
            nombre: "Camiseta seleccion chilena",
            imagen: "/img/camisetas/chile.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta seleccion chilena local  22-23 oficial",
            precio: 39490

        },
        {
            nombre: "Camiseta Jordan Flight",
            imagen: "/img/camisetas/jordan-flight.png",
            codigo: 1234567890,
            descripcion: "Camiseta diseno zapatillas Jordan color negra",
            precio: 32430

        },
        {
            nombre: "Camiseta Jordan",
            imagen: "/img/camisetas/jordan3.png",
            codigo: 1234567890,
            descripcion: "Camiseta diseno Jordan color negra",
            precio: 53980

        },
        {
            nombre: "Camiseta Jordan Flight",
            imagen: "/img/camisetas/jordan-flight.png",
            codigo: 1234567890,
            descripcion: "Camiseta Jordan Flight mujer diseno espalda color roja",
            precio: 56990

        },
        {
            nombre: "Camiseta Lebron",
            imagen: "/img/camisetas/lakers.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta basquetball oficial Lebron",
            precio: 47950

        },
        {
            nombre: "Camiseta PSG",
            imagen: "/img/camisetas/psg.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta primera equipacion PSG 22-23 oficial",
            precio: 42990

        },
        {
            nombre: "Camiseta Running",
            imagen: "/img/camisetas/runningmc.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta running mujer manga corta diseno team colores ",
            precio: 00000

        }
    
    ],
    [   {
            nombre: "Capucha con bolsillo de canguro",
            imagen: "/img/polerones/generico.png",
            codigo: 7543214956671,
            descripcion: "Poleron sobrio, sin estampado",
            precio: 14990
        },
        {
            nombre: "Poleron Anaheim Crew",
            imagen: "/img/polerones/anaheim floral crew.png",
            codigo: 7543214956671,
            descripcion: "Poleron mujer diseno floral",
            precio: 27900
        },
        {
            nombre: "Poleron Unisex",
            imagen: "/img/polerones/diseno espalda.png",
            codigo: 7543214830377,
            descripcion: "Poleron diseno espalda unisex color negro con gorro",
            precio: 40940
    
        },
        {
            nombre: "Poleron coleccion",
            imagen: "/img/polerones/fleece tie dye pullover.png",
            codigo: 7543214906186,
            descripcion: "Poleron ninos diseno  coleccion color azul.",
            precio: 34500
    
        },
        {
            nombre: "Poleron Nike Air",
            imagen: "/img/polerones/Nike-Air.png",
            codigo: 7543214564112,
            descripcion: "Poleron unisex nike air negro",
            precio: 39950
    
        },
        {
            nombre: "Poleron One Piece",
            imagen: "/img/polerones/one piece vans.png",
            codigo: 7543214519667,
            descripcion: "Poleron unisex Vans diseno one piece",
            precio: 25990
    
        },
        {
            nombre: "Poleron One Piece",
            imagen: "/img/polerones/one piece.png",
            codigo: 7543214621041,
            descripcion: "Poleron one piece off the wall color azul",
            precio: 27990
    
        },
        {
            nombre: "Poleron Therma Fit",
            imagen: "/img/polerones/Therma Fit Insectos.png",
            codigo: 7543214874446,
            descripcion: "Poleron unisex diseno insectos",
            precio: 37980
    
        },
        {
            nombre: "Poleron Vans",
            imagen: "/img/polerones/vans hombre.png",
            codigo: 7543214875716,
            descripcion: "Poleron negro vans hombre",
            precio: 29990
    
        },
        {
            nombre: "Poleron Vans",
            imagen: "/img/polerones/vans-off the wall.png",
            codigo: 7543214103528,
            descripcion: "Poleron ninos vans off the wall",
            precio: 29990
    
        },
        {
            nombre: "Poleron Floral Animal Crew",
            imagen: "/img/polerones/floral animal crew.png",
            codigo: 7543214254000,
            descripcion: "Poleron mujer Animal",
            precio: 25100
    
        }]
]


//variables creacion de cards
var divMedio,divInterno,footerCard ,tituloCard, descripcionCard, labelcheck, boton, imgCard ,selecCantidad, labelCantidad , i = 0;

var index;
var precio;
var arregloCard = [];
//Función creadora de cards
function creacionCards(element,index){
    
    //Creación de elementos html y asignación de atributos
    var objeto = {  nombre: undefined,
                    imagen: undefined,
                    codigo: undefined,
                    descripcion: undefined,
                    precio: undefined
                }
    
    
    



    divMedio = document.createElement("div"); 
    divMedio.className = "card  gy-3 divMedio  ";
    divMedio.style = "object-fit: fit; border: none; min-width: 250px; background: rgba(0,0,0,0);  z-index: 1010";
    divMedio.id = "divMedio-" + i;
    divMedio.title = "Click para mas detalles"
    

    divInterno = document.createElement("div");
    divInterno.className = "  card-body card-img-overlay divInterno";
    divInterno.setAttribute("data-bs-toggle","modal");
    divInterno.setAttribute("data-bs-target","#detalleProducto") ;
    divInterno.id = "divInterno-" + i;
    
    
    imgCard = document.createElement("img");
    imgCard.className = " img-fluid card-img-top imagenCard";
    imgCard.id = "img-" + i;
    imgCard.src= element[index].imagen;
    imgCard.alt  = "Imagen no Disponible";
    imgCard.style = " object-fit: fit";
    objeto.imagen = element[index].imagen; //asignación del los atributos al objeto que irá en el arreglo de productos mostrados en pantalla (arregloCard[])
    

    tituloCard = document.createElement("h4");
    tituloCard.className = "card-title ps-2";
    tituloCard.textContent = element[index].nombre;
    tituloCard.style = " margin-top: 10px;height: 70px";
    tituloCard.id = "nombreProducto-" + i;
    
    objeto.nombre = element[index].nombre; 

    descripcionCard = document.createElement("p");
    objeto.descripcion = element[index].descripcion;
    descripcionCard.id = "descripcion-" + i;
    descripcionCard.style = "display: none;"
    

    precio = document.createElement("h2");
    precio.className = "card-text ps-2 precio";
    precio.textContent = new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(element[index].precio);
    precio.id = "precio-" + i;
    objeto.precio = element[index].precio;
    precio.style = " margin-top: auto;";

    codigo = document.createElement("p");
    codigo.className = "card-text ps-2 codigo";
    codigo.textContent = "COD: " + element[index].codigo;
    codigo.id = "codigo-" + i;
    objeto.codigo = element[index].codigo;
    codigo.style = " margin-top: auto;";

    footerCard = document.createElement("div");
    footerCard.className = "card   footerCard";
    footerCard.style = "display: flex; justify-content: center; margin-top: auto;";
    
    divAgregar = document.createElement("div");
    divAgregar.style = "display: flex; justify-content: center; margin-top: auto;";
    divAgregar.className = "p-2";

    divCantidad = document.createElement("div");
    divCantidad.className = "ps-2";
    divCantidad.style = "justify-content: space-evenly; display: flex; margin-top: auto;"

    boton = document.createElement("button");
    boton.type = "button";
    boton.id = "boton-" + i;
    boton.className = "btn bg-danger btnAgregar";
    boton.textContent = "Añadir al Carro";
    boton.style = "color: white"
    

    
    
    selecCantidad = document.createElement("input");
    selecCantidad.id = "cantidad-" + i
    selecCantidad.type = "number";
    selecCantidad.min = 1;
    selecCantidad.max = 15;
    selecCantidad.value = 1;
    selecCantidad.className = "InputCantidad"
    

    labelCantidad = document.createElement("label");
    labelCantidad.for = "cantidad-" + i;
    labelCantidad.textContent = "Cantidad:";

    //Anidar y agregar los elementos al DOM
    $("#contenedorCard").append(divMedio);
    divMedio.append(divInterno);
    divMedio.append(imgCard);
    divMedio.append(footerCard);
    footerCard.append(tituloCard);
    footerCard.append(codigo);
    footerCard.append(precio);
    divAgregar.append(boton);
    divCantidad.append(labelCantidad);
    divCantidad.append(selecCantidad);
    footerCard.append(divCantidad);
    footerCard.append(divAgregar);
    footerCard.append(descripcionCard);
    
    arregloCard.push(objeto);
    
    i++;
}


if($("#mainIndex").val() =="1"){ 
    
    function mostrarCards(){
        let numeros=[];
        var random1, random2;
       
        let totalcards = 10;
        
        for (let i = 0; i < totalcards; i++) {
            var random1 = Math.floor(Math.random() * infoProducto.length);
            var arreglo = infoProducto[random1];  
            function numerosAleatoriosNoRepetidos(min, max, cantidad) {
                
            
                if (min>max || cantidad>max-min) {
                    return false;
                }
            
                while (numeros.length<cantidad) {
                    const num=Math.floor((Math.random() * (max - min)) + min );
                    if (numeros.indexOf(num)==-1) {
                        numeros.push(num);
                    }
                }
                return numeros;
            }
            random2 = numerosAleatoriosNoRepetidos(0,arreglo.length - 1,totalcards)
            
            creacionCards(arreglo,random2[i]);
            
            
        }
        
        i = 0;
    
    }
    function eliminarCards(){
        $("#contenedorCard").html("");
        arregloCard = [];
    }

    mostrarCards()
    
    $(".divMedio").on("click",function(){

        var indiceProducto =($(this).attr('id'))[($(this).attr('id')).length -1];
        
        $("#tituloModal").text(arregloCard[parseInt(indiceProducto)].nombre);
        $("#codigoModal").text("COD: " + arregloCard[parseInt(indiceProducto)].codigo);
        $("#imagenModal").attr("src", arregloCard[indiceProducto].imagen);
        $("#descripcionModal").text(arregloCard[indiceProducto].descripcion);
        $("#precioModal").text(new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(arregloCard[indiceProducto].precio));
    
    })
    
      
    
    
}else{
    function mostrarCards(){
        let numeros=[];
        var random1, random2;
       
        let totalcards = 5;
        
        for (let i = 0; i < totalcards; i++) {
            var random1 = Math.floor(Math.random() * infoProducto.length);
            var arreglo = infoProducto[random1];  
            function numerosAleatoriosNoRepetidos(min, max, cantidad) {
                
            
                if (min>max || cantidad>max-min) {
                    return false;
                }
            
                while (numeros.length<cantidad) {
                    const num=Math.floor((Math.random() * (max - min)) + min );
                    if (numeros.indexOf(num)==-1) {
                        numeros.push(num);
                    }
                }
                return numeros;
            }
            random2 = numerosAleatoriosNoRepetidos(0,arreglo.length - 1,totalcards)
            creacionCards(arreglo,random2[i]);
            
            
        }
        $(".divMedio").on("click",function(){

            var indiceProducto =($(this).attr('id'))[($(this).attr('id')).length -1];
        
            $("#tituloModal").text(arregloCard[parseInt(indiceProducto)].nombre);
            $("#codigoModal").text("COD: " + arregloCard[parseInt(indiceProducto)].codigo);
            $("#imagenModal").attr("src", arregloCard[indiceProducto].imagen);
            $("#descripcionModal").text(arregloCard[indiceProducto].descripcion);
            $("#precioModal").text(new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(arregloCard[indiceProducto].precio));
        
        })
        i = 0;
    
    }
    function eliminarCards(){
        $("#contenedorCard").html("");
        arregloCard = [];
    }

    mostrarCards()
    
}

