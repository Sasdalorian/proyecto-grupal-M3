
//infoProducto[0] = poleras
//infoProducto[1] = polerones
//infoProducto[2] = zapatillas
var infoProducto = [
    
    [
        {
            nombre: "Zapatillas Blaze Court",
            imagen: "/img/calzado/blaze-court.png",
            codigo: 1234567890,
            descripcion: "zapatilla de basquetball unisex",
            precio: 00000
        },
        {
            nombre: "Zapatilla Deviaten Nitro",
            imagen: "/img/calzado/deviaten-nitro.png",
            codigo: 1234567890,
            descripcion: "zapatilla running mujer color verde",
            precio: 00000

        },
        {
            nombre: "Zapatilla Florence",
            imagen: "/img/calzado/florence.png",
            codigo: 1234567890,
            descripcion: "zapatillas urbanas mujer",
            precio: 00000

        },
        {
            nombre: "Zapatillas Magnify Nitro",
            imagen: "/img/calzado/magnify-nitro.png",
            codigo: 1234567890,
            descripcion: "zapatillas running hombre color rojo",
            precio: 00000

        },
        {
            nombre: "Zapatilla Mercurial Victory",
            imagen: "/img/calzado/mercurial-victory.png",
            codigo: 1234567890,
            descripcion: "zapatillas baby futbol unisex",
            precio: 00000

        },
        {
            nombre: "Zapatos Mercury",
            imagen: "/img/calzado/mercury.jfif",
            codigo: 1234567890,
            descripcion: "Zapatos de futbol mujer color dorado ",
            precio: 00000

        },
        {
            nombre: "Zapatillas Slip Stream",
            imagen: "/img/calzado/slipstream.png",
            codigo: 1234567890,
            descripcion: "zapatilla urbana de caña alta unisex ",
            precio: 00000

        },
        {
            nombre: "Zapatilla Suede Classic XXI",
            imagen: "/img/calzado/suede-classicxxi.png",
            codigo: 1234567890,
            descripcion: "Zapatilla urbana mujer color rosado",
            precio: 00000

        },
        {
            nombre: "Zapatos Superfly",
            imagen: "/img/calzado/superfly.jfif",
            codigo: 1234567890,
            descripcion: "Zapato de futbol hombre color rojo",
            precio: 00000

        },
        {
            nombre: "Zapatillas Voyage Nitro",
            imagen: "/img/calzado/voyage-nitro.png",
            codigo: 1234567890,
            descripcion: "zapatillas running hombre color negro",
            precio: 00000

    }],
    [
        {
            nombre: "Camiseta Seleccion Argentina",
            imagen: "/img/camisetas/argentina.png",
            codigo: 1234567890,
            descripcion: "Camiseta oficial seleccion Argentina 3 estrellas",
            precio: 00000
        },
        {
            nombre: "Camiseta Barcelona",
            imagen: "/img/camisetas/barca.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta Barcelona 22-23 Oficial",
            precio: 00000

        },
        {
            nombre: "Camiseta Boca Juniors",
            imagen: "/img/camisetas/boca.jfif",
            codigo: 1234567890,
            descripcion: "Nueva camiseta de Boca oficial y de visitante",
            precio: 00000

        },
        {
            nombre: "Camiseta seleccion chilena",
            imagen: "/img/camisetas/chile.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta seleccion chilena local  22-23 oficial",
            precio: 00000

        },
        {
            nombre: "Camiseta Jordan Flight",
            imagen: "/img/camisetas/jordan-flight.png",
            codigo: 1234567890,
            descripcion: "Camiseta diseno zapatillas Jordan color negra",
            precio: 00000

        },
        {
            nombre: "Camiseta Jordan",
            imagen: "/img/camisetas/jordan3.png",
            codigo: 1234567890,
            descripcion: "Camiseta diseno Jordan color negra",
            precio: 00000

        },
        {
            nombre: "Camiseta Jordan Flight",
            imagen: "/img/camisetas/jordan-flight.png",
            codigo: 1234567890,
            descripcion: "Camiseta Jordan Flight mujer diseno espalda color roja",
            precio: 00000

        },
        {
            nombre: "Camiseta Lebron",
            imagen: "/img/camisetas/lebron.png",
            codigo: 1234567890,
            descripcion: "Camiseta basquetball oficial Lebron",
            precio: 00000

        },
        {
            nombre: "Camiseta PSG",
            imagen: "/img/camisetas/psg.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta primera equipacion PSG 22-23 oficial",
            precio: 00000

        },
        {
            nombre: "Camiseta Running",
            imagen: "/img/camisetas/runningmc.jfif",
            codigo: 1234567890,
            descripcion: "Camiseta running mujer manga corta diseno team colores ",
            precio: 00000

        }
    
    ],
    [
        {
            nombre: "ZAPATILLAS TRC BLAZE COURT",
            imagen: "/img/zapatillas/ZAPATILLAS DE BASKETBALL TRC BLAZE COURT.png",
            codigo: 7543214956671,
            descripcion: "Estas zapatillas se inspiran en las Blaze of Glory y se encargan de que todo esté fresco dentro y fuera del campo de juego. Equipadas con la triple amenaza Trinomic de amortiguación, flexibilidad y estabilidad, estas zapatillas tienen un diseño de caña baja, pero con una gran devolución de la energía.",
            precio: 89990
        },
        {
            nombre: "ZAPATILLAS SLIPSTREAM",
            imagen: "/img/zapatillas/ZAPATILLAS DE CAÑA MEDIA SLIPSTREAM SC.png",
            codigo: 7543214830377,
            descripcion: "Las Slipstream son un verdadero ícono del calzado, con un legado que se remonta a 1987. Si bien se pensaron como una zapatilla de basketball prémium, los creadores de tendencia no tardaron en reconocer que su comodidad y resistencia eran perfectas para las calles.",
            precio: 119990
    
        },
        {
            nombre: "ZAPATILLAS DEVIATE NITRO",
            imagen: "/img/zapatillas/ZAPATILLAS DE RUNNING PARA HOMBRE DEVIATE NITRO.png",
            codigo: 7543214906186,
            descripcion: "Excelente performance en la distancia que sea. Las DEVIATE NITRO tienen un diseño amortiguado que viene a innovar en la tendencia de las zapatillas de running de máximo performance para que correr más rápido sea cada vez más fácil.",
            precio: 129990
    
        },
        {
            nombre: "ZAPATILLAS MAGNIFY NITRO",
            imagen: "/img/zapatillas/ZAPATILLAS DE RUNNING PARA HOMBRE MAGNIFY NITRO.png",
            codigo: 7543214564112,
            descripcion: "Dicho de forma sencilla, estas zapatillas te siguen ofreciendo lo mejor. Para empezar, tienen una mediasuela con NITRO FOAM, la tecnología avanzada de PUMA diseñada para ofrecer una adaptación y una amortiguación increíbles.",
            precio: 109990
    
        },
        {
            nombre: "ZAPATILLAS VOYAGE NITRO",
            imagen: "/img/zapatillas/ZAPATILLAS DE RUNNING PARA MUJER VOYAGE NITRO.png",
            codigo: 7543214519667,
            descripcion: "Dicho de forma sencilla, estas zapatillas te siguen ofreciendo lo mejor. Para empezar, tienen una mediasuela con NITRO FOAM, la tecnología avanzada de PUMA diseñada para ofrecer una adaptación y una amortiguación increíbles.",
            precio: 109990
    
        },
        {
            nombre: "ZAPATILLAS SK8-HI ONE PIECE",
            imagen: "/img/zapatillas/ZAPATILLAS SK8-HI ONE PIECE PUNK HAZARD MULTI.png",
            codigo: 7543214621041,
            descripcion: "Rindamos homenaje al poder de la amistad Acompaña a Monkey D. Luffy y a su tripulación pirata en su búsqueda del tesoro supremo, el One Piece, con esta colección exclusiva de Vans x One Piece.",
            precio: 94990
    
        },
        {
            nombre: "ZAPATILLAS SUEDE CLASSIC XXI",
            imagen: "/img/zapatillas/ZAPATILLAS SUEDE CLASSIC XXI.png",
            codigo: 7543214874446,
            descripcion: "Con un gran impacto en la cultura del calzado, las zapatillas más icónicas de PUMA entraron a la escena por primera vez en 1968 y han sido usadas desde entonces por los íconos de cada generación. Las Suede Classic XXI cuentan con un empeine completo de gamuza y toques modernos, que mejoran la calidad general y hacen que se sientan mejor que nunca.",
            precio: 69990
    
        },
        {
            nombre: "ZAPATILLAS ONE PIECE COOKIE",
            imagen: "/img/zapatillas/ZAPATILLAS UA AUTHENTIC 44 DX ONE PIECE COOKIE.png",
            codigo: 7543214875716,
            descripcion: "Las zapatillas Authentic Vans x One Piece combinan una estética náutica inspirada en el emblemático manga japonés con unas palas de yute bordadas con divertidos símbolos de One Piece en honor a los inconfundibles sombreros de paja de la serie.",
            precio: 99990
    
        },
        {
            nombre: "ZAPATILLAS ONE PIECE HAT CREW",
            imagen: "/img/zapatillas/ZAPATILLAS UA AUTHENTIC ONE PIECE STRAW HAT CREW.png",
            codigo: 7543214103528,
            descripcion: "Las zapatillas Authentic Vans x One Piece combinan una estética náutica inspirada en el emblemático manga japonés con unas palas de yute bordadas con divertidos símbolos de One Piece en honor a los inconfundibles sombreros de paja de la serie.",
            precio: 59990
    
        },
        {
            nombre: "ZAPATILLAS NATHAN FLORENCE",
            imagen: "/img/zapatillas/ZAPATILLAS UA ULTRARANGE VR3 NATHAN FLORENCE.png",
            codigo: 7543214254000,
            descripcion: "Procedente de la costa norte de Oahu, Nathan Florence creció con algunas de las olas más emblemáticas del mundo justo delante de su puerta. Ese entorno único no solo convirtió a Nathan en el surfista que actualmente es, sino que encendió en él la llama que le permitió continuar buscando lugares de surf desafiantes.",
            precio: 109990
    
        }]
]


//variables creacion de cards
var divMedio,divInterno,footerCard ,tituloCard, descripcionCard, labelcheck, boton, imgCard ,selecCantidad, labelCantidad , i = 0;

var index;
var precio;
var codigo;
var linkImagen;
var arregloCard = [];

//Función creadora de cards
function creacionCards(element,index){
    //Creación de elementos html y asignación de atributos
    var objeto = {  nombre: undefined,
                    imagen: undefined,
                    codigo: undefined,
                    descripcion: undefined,
                    precio: undefined
                }
    
    
    
    divMedio = document.createElement("div"); 
    divMedio.className = "card  gy-3 divMedio col-2";
    divMedio.style = "object-fit: fit; border: none; max-width: 250px; min-width: 200px; background: rgba(0,0,0,0);  z-index: 1010";
    divMedio.id = "divMedio-" + i;


    divInterno = document.createElement("div");
    divInterno.className = "  card-body card-img-overlay divInterno";
    divInterno.setAttribute("data-bs-toggle","modal");
    divInterno.setAttribute("data-bs-target","#detalleProducto") ;
    divInterno.id = "divInterno-" + i;
    
    
    imgCard = document.createElement("img");
    imgCard.className = " img-fluid card-img-top rounded-top imagenCard";
    imgCard.id = "img-" + i;
    imgCard.src= element[index].imagen;
    imgCard.alt  = "Imagen no Disponible";
    imgCard.style = " object-fit: fit";
    objeto.imagen = element[index].imagen; //asignación del los atributos al objeto que irá en el arreglo de productos mostrados en pantalla (arregloCard[])
    
    tituloCard = document.createElement("h4");
    tituloCard.className = "card-title ps-2";
    tituloCard.textContent = element[index].nombre;
    tituloCard.style = " margin-top: auto;height: 70px";
    
    objeto.nombre = element[index].nombre; 

    objeto.descripcion = element[index].descripcion;

    precio = document.createElement("h2");
    precio.className = "card-text ps-2 precio";
    precio.textContent = new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(element[index].precio);
    precio.id = "precio-" + i;
    objeto.precio = element[index].precio;
    precio.style = " margin-top: auto;";

    codigo = document.createElement("p");
    codigo.className = "card-text ps-2 codigo";
    codigo.textContent = "COD: " + element[index].codigo;
    codigo.id = "codigo-" + i;
    objeto.codigo = element[index].codigo;
    codigo.style = " margin-top: auto;";

    footerCard = document.createElement("div");
    footerCard.className = "card   footerCard";
    footerCard.style = "display: flex; justify-content: center; margin-top: auto;";
    
    divAgregar = document.createElement("div");
    divAgregar.style = "display: flex; justify-content: center; margin-top: auto;";
    divAgregar.className = "p-2";

    divCantidad = document.createElement("div");
    divCantidad.className = "ps-2";
    divCantidad.style = "justify-content: space-evenly; display: flex; margin-top: auto;"

    boton = document.createElement("button");
    boton.type = "button";
    boton.id = "boton-" + i;
    boton.className = "btn bg-primary";
    boton.textContent = "Añadir al Carro";

    
    
    selecCantidad = document.createElement("input");
    selecCantidad.id = "cantidad"
    selecCantidad.type = "number";
    selecCantidad.min = 1;
    selecCantidad.max = 15;
    selecCantidad.value = 1

    labelCantidad = document.createElement("label");
    labelCantidad.for = "cantidad-" + i;
    labelCantidad.textContent = "Cantidad:";

    //Anidar y agregar los elementos al DOM
    $("#contenedorCard").append(divMedio);
    divMedio.append(divInterno);
    divMedio.append(imgCard);
    divMedio.append(footerCard);
    footerCard.append(tituloCard);
    footerCard.append(codigo);
    footerCard.append(precio);
    divAgregar.append(boton);
    divCantidad.append(labelCantidad);
    divCantidad.append(selecCantidad);
    footerCard.append(divCantidad);
    footerCard.append(divAgregar);
    
    arregloCard.push(objeto);
    
    i++;
}


if($("#mainIndex").val() =="1"){ 
    
    function mostrarCards(){
        let numeros=[];
        var random1, random2;
       
        let totalcards = 5;
        
        for (let i = 0; i < totalcards; i++) {
            var random1 = Math.floor(Math.random() * infoProducto.length);
            var arreglo = infoProducto[random1];  
            function numerosAleatoriosNoRepetidos(min, max, cantidad) {
                
            
                if (min>max || cantidad>max-min) {
                    return false;
                }
            
                while (numeros.length<cantidad) {
                    const num=Math.floor((Math.random() * (max - min)) + min );
                    if (numeros.indexOf(num)==-1) {
                        numeros.push(num);
                    }
                }
                return numeros;
            }
            random2 = numerosAleatoriosNoRepetidos(0,arreglo.length - 1,totalcards)
            creacionCards(arreglo,random2[i]);
            
            
        }
        $(".divMedio").on("click",function(){

            var indiceProducto =($(this).attr('id'))[($(this).attr('id')).length -1];
        
            $("#tituloModal").text(arregloCard[parseInt(indiceProducto)].nombre);
            $("#codigoModal").text("COD: " + arregloCard[parseInt(indiceProducto)].codigo);
            $("#imagenModal").attr("src", arregloCard[indiceProducto].imagen);
            $("#descripcionModal").text(arregloCard[indiceProducto].descripcion);
            $("#precioModal").text(new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(arregloCard[indiceProducto].precio));
        
        })
        i = 0;
    
    }
    function eliminarCards(){
        $("#contenedorCard").html("");
        arregloCard = [];
    }

    mostrarCards()
    setInterval(mostrarCards,10001)
    setInterval(eliminarCards,10000)
    
    
    
    
}else{
    mostrarCards()
    function mostrarCards(){
        let numeros=[];
    for (let i = 0; i < 4; i++) {
        var random1 = Math.floor(Math.random() * 3);
        var arreglo = infoProducto[random1];  
        function numerosAleatoriosNoRepetidos(min, max, cantidad) {
            
         
            if (min>max || cantidad>max-min) {
                return false;
            }
         
            while (numeros.length<cantidad) {
                const num=Math.floor((Math.random() * (max - min)) + min );
                if (numeros.indexOf(num)==-1) {
                    numeros.push(num);
                }
            }
            return numeros;
        }
        random2 = numerosAleatoriosNoRepetidos(0,infoProducto[random1].length - 1,4)
        creacionCards(arreglo,random2[i]);
        
        
    }
    $(".divMedio").on("click",function(){

        var indiceProducto =($(this).attr('id'))[($(this).attr('id')).length -1];
    
        $("#tituloModal").text(arregloCard[parseInt(indiceProducto)].nombre);
        $("#codigoModal").text("COD: " + arregloCard[parseInt(indiceProducto)].codigo);
        $("#imagenModal").attr("src", arregloCard[indiceProducto].imagen);
        $("#descripcionModal").text(arregloCard[indiceProducto].descripcion);
        $("#precioModal").text(new Intl.NumberFormat('es-CL', {currency: 'CLP', style: 'currency'}).format(arregloCard[indiceProducto].precio));
    
    })
    
    }
    function eliminarCards(){
        $("#contenedorCard").html("");
        
    }

    
    setInterval(mostrarCards,10001)
    setInterval(eliminarCards,10000)
}